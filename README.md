# SgTableApp

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 8.3.24.

Skip the next section for installation and running instructions.

---

## Отчёт о работе

Если вкратце, то было примерно затрачено 8 рабочих часов, включая какое-то доисследование документации по Angular. В начальных переговорах обозначалось, что тестовое задание "примерно где-то на пару часов", поэтому растягивать на 10-12 часов не вижу смысла. Если нужно, чтобы соискатель работал быстрее, то возможно я не подойду.

Есть некоторые пункты, которые скорее всего ожидались к выполнению, но тем не менее не готовы за 8 часов.

### 1. Внешний вид
Для основы оформления взял Bulma. Вообще оформление выглядит довольно кастомным, тем не менее хотелось взять какой-то фреймворк, от которого мог бы отталкиваться.
К сожалению, добиться такого же внешнего вида таблицы только через переменные я не смог. Кнопку "добавить" сделал с градиентом, как в макете, однако это потребовало опять-таки дополнять какие-то основные CSS классы фреймворка. Bulma ставит `background-color` свойство, что не даёт туда положить какой-то градиент.
Поскольку в макете нет указанных размеров, они соблюдались очень условно. При реальной работе, скорее всего связался бы с дизайнером, уточнил бы стандартные отступы и размеры шрифтов.
Кастомное уведомление про валидацию (всплывающее уведомление справа и иконка в инпуте) даже не затрагивалось.

### 2. Функционал - таблица
Пожелаемую сортировку не делал. С самого начала не включил роутер, что наверно было ошибкой. Плюс опять же иконки для сортировок.
То же самое с пагинацией. Кнопку нарисовал, даже сделал функцию выборки, но включить всё вместе не успел.

### 3. Функционал - модал
Я подключил стандартные валидаторы в модель для реактивной формы, но не подключил вывод ошибок.
Возможно не лучшим решением было попробовать сделать вставку формы через Content Projection. Скорее не так, вставка нормально получается, но управление закрытием модала могло быть сделано лучше. Сейчас там общая вставленная "шина" (EventEmitter).

### 4. Архитектура
Одной из главных ошибок было наверно моё принципиальное желание обойтись без NgRx Store. Сначала я хотел попробовать просто прокидывать события, но только потом уже вспомнил, что Content Projection не регистрирует события в родительском шаблоне.
Поэтому и управление состоянием формы пришлось выносить в сервис, и управление модалом тоже частично (и не очень консистентно) идёт через некую шину.
Как раз для небольших приложений единый Store действует оптимально. Хотя и подход с какими-то более ограниченными по скоупу инжектнутыми сервисами имеет право на жизнь, особенно когда много модулей есть.

Деление на ng-модули не практиковал в этом приложении. Возможно как-то при укрупнении пошло бы разделение на модуль с таблицей и модуль с формами.

`ContentComponent` стал местом, где происходит передача объекта ряда из таблицы в форму, что опять же при наличии Store могло бы выглядеть немного иначе. Прямо сейчас это сильно связующий компонент, который зависит как от событий вложенных компонентов, так и от какой-то шины.

### 5. Отсутствуют тесты
Фокусировался на разработке. Если говорить о необходимости, первым бы под (юнит) тест пошёл `ContentService`, за ним `FormService`. Самым простым на тест компонент был бы `HeaderCounterComponent`.
Я бы не стал трогать e2e тесты, пока нет какой-то значимости в них (бизнес процесс из 3+ шагов).

### Общие выводы
К сожалению, даже периодическое знакомство с Angular оставляет какие-то довольно значимые пятна в знаниях, когда речь идёт о том, как сделать конкретно тот или иной подход. Для меня это было определённо неприятным сюрпризом, потому что я был уверен, что раз я делал тестовые, то в принципе помнил те или иные вещи, что оказалось не совсем так.

Несмотря на некоторые проблемы при выполнении этого теста, мне понравилось работать с Bulma для кастомизации. Хотя я не работал с последним Bootstrap 4, надо будет сравнить.

---

## Development server

Run `ng serve` for a dev server. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

## Code scaffolding

Run `ng generate component component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module`.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `--prod` flag for a production build.

## Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Running end-to-end tests

Run `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).
